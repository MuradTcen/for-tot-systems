#### Тестовое задание JAVA-разработчика
Исходные данные представлены выгрузками Московской биржи (описание API:
https://fs.moex.com/files/6523):
* информация о ценных бумагах (securities_*.xml);
* история торгов за произвольную дату (history_*.xml).
Поле для связи объектов: SECID. В приложении допускается существование
ценной бумаги без истории, истории без описания бумаги - нет.

##### Необходимо реализовать сервис, покрывающий задачи:
1. Импорт объектов из приложенных файлов (состав сохраняемых данных
определить самостоятельно);
2. Предоставить API для CRUD операций по объектам;
3. При ручном сохранении ценной бумаги проводить валидацию передаваемых
данных в поле name - только кириллица, цифры и пробел;
4. Отдельным методом реализовать вывод таблицы с данными из тегов:
* secid
* regnumber
* name
* emitent_title
* tradedate
* numtrades
* open
* close

Предусмотреть возможность задать параметрами столбцы для сортировки и
фильтрацию по полям emitent_title и tradedate;
5. Выбранную архитектуру решения и инструкцию по запуску приложения
описать в Readme файле.

##### Дополнительные задачи «со звездочкой» в порядке уменьшения их значимости
при оценке:
1. Реализовать хранение и работу с данными в БД;
2. Реализовать MVC приложение, позволяющее через интерфейс
импортировать файлы и работать с таблицей п.4 и CRUD операциями. Не
стоит акцентировать внимание на ux/ui, нам интересно посмотреть на ваш
навык работы с html/js;
3. Доработать импорт данных: при импорте истории по отсутствующей ценной
бумаге выполнять rest запрос к API биржи (роут метода
http://iss.moex.com/iss/securities.xml?q=SEARCH_STRING). Обратить
внимание на оптимизацию обращений;
4. Реализовать фоновое выполнение парсинга данных по расписанию.
Исходный код необходимо выложить на github (или аналогичном сервисе) или аналогичном сервисе) или
 прислать архивом с комментариями.

----------------------------

##### Что сделано:
1. Back-end Rest API (Java 8, Spring Boot, Liquibase, Stax, Swagger), Front-end (js, React.js), слой БД (PostgresQL)

2. БД: две основные таблицы: Securities и Histories, в таблице Securities выбрал поля для первичного ключа secid,
в Histories композитный первичный ключ secid и tradedate, связаны таблицы по полю secid. Возможно, стоило бы использовать 
ClickHouse для хранения histories, т.к много статистических данных по дням. С ClickHouse не работал, но меня смущает
хранение статистических данных по сделкам в обычной реляционной БД

3. Back-end: слой контроллеров, сервисов, сущностей, репозиториев, утилит(парсинг xml-файлов при помощи Stax (т.к он "поточный"))
Есть своя аннотация @CyrillicConstraint для проверки на соответствие кириллице, пробелам и цифрам. Работа с сущностями
через репозиторий, используется Specification для фильтрации. Хотелось бы использовать AOP для логгирования

4. Front-End: React.js (обычно я не работаю с фронтом, но мне интересен React.js)

5. Прикручен Swagger https://tot-systems.herokuapp.com/swagger-ui.html#

[![imageup.ru](https://imageup.ru/img213/3618426/swaggerui.png)](https://imageup.ru/img213/3618426/swaggerui.png.html)

6. Проект задеплоен на Heroku https://tot-systems.herokuapp.com

[![imageup.ru](https://imageup.ru/img83/3618425/histories.png)](https://imageup.ru/img83/3618425/histories.png.html)
##### Что в работе:
(За пятницу и субботу планирую сделать)
1. Доделать Front-end (History)

2. Тесты Back-end

3. Логгирование

3. Добавить работу с отсутствующими Ценными Бумагами и добавить обновление по расписанию, Кэширование запросов

4. Использовать контейниризацию

##### Временные затраты:
Получил email на почту в пятницу, начал работать в субботу
1. Back-end (сб, вс, пн 2.5 единицы времени)
2. Front-end (пн, вт 1.5 единицы времени)
3. В среду ничего не делал
4. Достаточно много времени потерял на интеграцию Spring Boot и React.js и деплой на Heroku (работа с gradle, сборкой, чт 1 единицы времени)
5. Front-end, мелкие правки бэка, оформление работы (пт)